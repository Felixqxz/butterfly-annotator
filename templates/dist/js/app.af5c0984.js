(function(t){function e(e){for(var r,i,n=e[0],l=e[1],c=e[2],m=0,d=[];m<n.length;m++)i=n[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},o=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1144:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="1144"},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=(a("034f"),a("2877")),n={},l=Object(i["a"])(n,s,o,!1,null,null,null),c=l.exports,u=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"container"},[a("b-row",[a("b-col",{attrs:{sm:"6"}},[a("b-form-file",{attrs:{placeholder:"Click here to choose a .txt file, then click import!",accept:".txt"},model:{value:t.textFile,callback:function(e){t.textFile=e},expression:"textFile"}}),a("b-button",{on:{click:function(e){t.textFile=null}}},[t._v("Reset")]),a("b-button",{on:{click:t.readFile}},[t._v("Import")])],1),a("b-col",{attrs:{sm:"6"}},[a("form",{attrs:{action:"http://localhost:5000/api/image/upload",method:"post",enctype:"multipart/form-data"}},[a("input",t._b({attrs:{type:"file",name:"pic",value:"choose"}},"input",t.image_file,!1)),a("input",{attrs:{type:"submit",value:"Upload it!"},on:{click:t.uploadImage}})])])],1),a("b-row",[a("b-col",{attrs:{sm:"2"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Select words")])]),a("b-col",{attrs:{sm:"4"}},[a("b-form-textarea",{attrs:{id:"textarea-auto-height",placeholder:"Auto height textarea",rows:"3","max-rows":"8"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("b-col",{attrs:{sm:"6"}},[a("div",{staticClass:"card",staticStyle:{width:"32rem"}},[a("img",{staticClass:"card-img-top figure-img img-fluid rounded",staticStyle:{width:"auto",height:"380px"},attrs:{src:t.imageBox,alt:"Currently no image in this area, please choose one from the image you uploaded."}}),a("div",{staticClass:"card-body"},[a("div",{staticStyle:{"text-align":"center"}},[a("h5",{staticClass:"card-text"},[t._v(t._s(t.imageDescription))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(" Select regions ")])])])])])],1),a("div",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Export as PDF")])])],1),a("h2",[t._v("All your uploaded images will be displayed here")]),t._l(t.newImages,(function(e){return a("figure",{key:e.id,staticClass:"figure col col-md-4 col-sm-6 col-xs-12 no-drag"},[a("img",{staticClass:"figure-img img-fluid rounded",attrs:{src:t.imgSrc(e),alt:e.id},on:{click:function(a){return t.putIntoBox(e)}}}),a("figcaption",{staticClass:"figure-caption text-center"},[t._v(" "+t._s(e.imageName)+" ")])])})),a("b-modal",{attrs:{id:"success-message-modal","hide-footer":""}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Upload an image successfully!")])]),a("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("success-message-modal")}}},[t._v("Close Me")])],1),a("b-modal",{attrs:{id:"failed-message-modal","hide-footer":""}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Failed to upload an image!")])]),t._v(" --\x3e "),a("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("failed-message-modal")}}},[t._v("Close Me")])],1),a("b-modal",{attrs:{id:"no-image-message-modal","hide-footer":""}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Please upload an image!")])]),a("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("no-image-message-modal")}}},[t._v("Close Me")])],1)],2),a("Footer")],1)},d=[],f=a("bc3a"),p=a.n(f),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-brand",{attrs:{href:"/"}},[t._v("Butterfly annotator")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/"}},[t._v("Home")])],1),a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/bank/1"}},[t._v("Image Bank")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/register"}},[t._v("Register")])],1),a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/login"}},[t._v("Login")])],1),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",[t._v("User")])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Profile")]),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Sign Out")])],1)],1)],1)],1)],1)},b=[],h={name:"Header"},v=h,_=Object(i["a"])(v,g,b,!1,null,null,null),x=_.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",{staticClass:"small mdb-color pt-4",attrs:{id:"footer"}},[a("p",{staticClass:"text-center"},[t._v("© 2021 Copyright: butterfly-annotator")])])])}],y={name:"Footer.vue"},k=y,F=(a("760c"),Object(i["a"])(k,w,C,!1,null,null,null)),$=F.exports,O={name:"Home",components:{Header:x,Footer:$},data(){return{text:"",textFile:null,newImages:[],image_file:null,imageState:null,imageBox:"https://cdn.mos.cms.futurecdn.net/MutKXr3Z2za46Zdi3XM3BM-1200-80.jpg",imageDescription:"This is an example image, please click one you uploaded!"}},methods:{uploadImage(){if(null==this.image_file)return void this.$bvModal.show("no-image-message-modal");this.image_file;let t=new FormData;t.append("imgFile",this.image_file),p()({method:"post",url:this.$hostname+"/api/image/upload",data:{formData:t},headers:{"Content-Type":"multipart/form-data"}}).then(t=>{200==t.status?this.$bvModal.show("success-message-modal"):this.$bvModal.show("failed-message-modal")}).catch(t=>{console.log(t)})},readFile(){var t=new FileReader;t.readAsText(this.textFile),t.onload=()=>{this.text=t.result};let e=new FormData;for(var a of(e.append("txtFile",this.textFile),e.keys()))console.log(a),console.log(e.get(a));p.a.post(this.$hostname+"/api/description/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{200==t.status?this.$bvModal.show("success-message-modal"):this.$bvModal.show("failed-message-modal")}).catch(t=>{console.log(t)})},getAllImages(){console.log("enter getAllImages"),p.a.get(this.$hostname+"/api/image/getImage").then(t=>{console.log(t);let e=t.data;this.newImages=e.images}).catch(t=>{console.log(t)})},putIntoBox(t){this.imageBox=a("1144")("./"+t.imageName),this.imageDescription=t.imageName.split(".")[0]}},created(){this.getAllImages()}},j=O,E=Object(i["a"])(j,m,d,!1,null,null,null),I=E.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"jumbotron"},[a("h1",[t._v("Test!")]),a("h2",[t._v("This is bank "+t._s(t.bankName))])]),a("div",{staticClass:"container container-fluid"},t._l(t.images,(function(e){return a("figure",{key:e.id,staticClass:"figure col col-md-4 col-sm-6 col-xs-12 no-drag"},[a("img",{staticClass:"figure-img img-fluid rounded",attrs:{src:e.url,alt:e.id}}),a("figcaption",{staticClass:"figure-caption text-center"},[t._v(t._s(e.fullDescription))])])})),0)])},P=[],S={name:"ImageList",data(){return{images:[],bankName:"(loading)"}},methods:{fetchImageList(){p.a.get(this.$hostname+"/api/bank/"+this.$route.params.bankId).then(t=>{if(200!==t.status)console.log("Could not load DB => ERROR, HTTP status="+t.status);else{let e=t.data;this.images=e.images,this.bankName=e.bankName}}).catch(t=>{console.log(t)})}},created(){this.fetchImageList()}},N=S,T=Object(i["a"])(N,M,P,!1,null,null,null),D=T.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"row justify-content-center align-items-center",attrs:{id:"login-row"}},[a("div",{staticClass:"col-md-6",attrs:{id:"login-column"}},[a("div",{staticClass:"col-md-12",attrs:{id:"login-box"}},[a("b-form",[a("h3",{staticClass:"text-center text-info"},[t._v("Login")]),a("b-form-group",{staticClass:"form-group",attrs:{id:"input-group-1","label-for":"username"}},[a("label",{staticClass:"text-info"},[t._v("Username:")]),a("br"),a("b-form-input",{staticClass:"form-control",attrs:{id:"username",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("b-form-group",{staticClass:"form-group",attrs:{id:"input-group-2","label-for":"password"}},[a("label",{staticClass:"text-info"},[t._v("Password:")]),a("br"),a("b-form-input",{staticClass:"form-control",attrs:{id:"password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-button",{staticClass:"btn btn-info btn-md",attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("Sign in")])],1),a("br"),t._m(0)],1)])]),a("Footer")],1)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-left"},[a("a",{staticClass:"text-info",attrs:{href:"/register"}},[t._v("Need an account?")])])}],H={components:{Header:x,Footer:$},data(){return{form:{username:"",password:""}}},methods:{submitForm(){p.a.post(this.$hostname+"/login",this.form).then(t=>{console.log(t)}),this.$router.push("/")}}},L=H,A=Object(i["a"])(L,R,B,!1,null,null,null),U=A.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"row justify-content-center align-items-center",attrs:{id:"login-row"}},[a("div",{staticClass:"col-md-6",attrs:{id:"login-column"}},[a("div",{staticClass:"col-md-12",attrs:{id:"login-box"}},[a("b-form",{ref:"registrationForm",attrs:{model:t.registrationForm}},[a("h3",{staticClass:"text-center text-info"},[t._v("Register")]),a("b-form-group",{staticClass:"form-group",attrs:{id:"input-group-1","label-for":"username"}},[a("label",{staticClass:"text-info"},[t._v("Username:")]),a("br"),a("b-form-input",{staticClass:"form-control",attrs:{id:"username",required:""},model:{value:t.registrationForm.username,callback:function(e){t.$set(t.registrationForm,"username",e)},expression:"registrationForm.username"}})],1),a("b-form-group",{staticClass:"form-group",attrs:{id:"input-group-2","label-for":"password"}},[a("label",{staticClass:"text-info"},[t._v("Password:")]),a("br"),a("b-form-input",{staticClass:"form-control",attrs:{id:"password",type:"password",required:""},model:{value:t.registrationForm.password,callback:function(e){t.$set(t.registrationForm,"password",e)},expression:"registrationForm.password"}})],1),a("b-form-group",{staticClass:"form-group",attrs:{id:"input-group-3","label-for":"confirm_password"}},[a("label",{staticClass:"text-info"},[t._v("Confirm your password:")]),a("br"),a("b-form-input",{attrs:{id:"confirm_password",type:"password",required:""},model:{value:t.registrationForm.confirmedPassword,callback:function(e){t.$set(t.registrationForm,"confirmedPassword",e)},expression:"registrationForm.confirmedPassword"}})],1),a("b-form-group",{attrs:{id:"input-group-4","label-for":"email"}},[a("label",{staticClass:"text-info"},[t._v("Email:")]),a("br"),a("b-form-input",{attrs:{id:"email",type:"email",required:""},model:{value:t.registrationForm.email,callback:function(e){t.$set(t.registrationForm,"email",e)},expression:"registrationForm.email"}})],1),a("b-button",{staticClass:"btn btn-info btn-md",attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("Register")]),t._v("   ")],1),a("br"),t._m(0)],1)])]),a("Footer")],1)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-left"},[a("a",{staticClass:"text-info",attrs:{href:"/login"}},[t._v("Already have an account?")])])}],V={components:{Header:x,Footer:$},data(){return{registrationForm:{username:"",password:"",confirmedPassword:"",email:""}}},methods:{submitForm(){p.a.post(this.$hostname+"/register",this.registrationForm).then(t=>{console.log(t)}),this.$router.push("/")}}},X=V,Z=Object(i["a"])(X,q,J,!1,null,null,null),z=Z.exports;r["default"].use(u["a"]);var K=new u["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:I},{path:"/bank/:bankId",name:"ImageList",component:D},{path:"/login",name:"Login",component:U},{path:"/register",name:"Register",component:z}]}),G=(a("f9e3"),a("5f5b"));a("2dd8");r["default"].use(G["a"]),r["default"].config.productionTip=!1,r["default"].prototype.$hostname="http://localhost:"+(Object({NODE_ENV:"production",BASE_URL:"/"}).PORT?Object({NODE_ENV:"production",BASE_URL:"/"}).PORT:"5000"),r["default"].use(G["a"]),new r["default"]({router:K,render:t=>t(c)}).$mount("#app")},"760c":function(t,e,a){"use strict";a("c3f5")},"85ec":function(t,e,a){},c3f5:function(t,e,a){}});
//# sourceMappingURL=app.af5c0984.js.map